pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function mk_anim_mgr(opt)
	local mgr={
		st=opt.st,
		anims=opt.anims,
		cf=1,
		t=0,
	}
	
	mgr.cur_anim=function(s)
	 return	s.anims[s.st]
	end
	
	mgr.cur_spr=function(s)
		return s:cur_anim()[s.cf][1]
	end
	
	mgr.update=function(s)
		s.t+=1
		local anim=s:cur_anim()
		if(s.t>anim[s.cf][2])then
			s.t=0
			s.cf+=1
		end
		if(s.cf>#anim)s.cf=1
	end
	
	return mgr
end
__gfx__
07777000077770000077770000000000007777000077770000777700000000000000000000000000000000000000000000000000000000000000000000000000
70000700700007000700007000777700070000700700007007000070007777000000000000000000000000000000000000000000000000000000000000000000
70000700700007000700007007000070070000700700007007000070070000700000000000000000000000000000000000000000000000000000000000000000
70700700700007000700007007000070070000700777777007000070070000700077770000000000000000000000000000000000000000000000000000000000
07777000077770000077770007000070007777000007700007000070070000700700007000000000000000000000000000000000000000000000000000000000
00770000007700000007700000777700000770000007770000777700007777000700007000000000000000000000000000000000000000000000000000000000
07070000007700000007700000077000000777000007000000070700000770000077770000000000000000000000000000000000000000000000000000000000
00070000077770000070070000700700007000000000000000000000000070000000700000000000000000000000000000000000000000000000000000000000
00000000000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07777000007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000700007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000700007007070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000700000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07777000000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00770000000070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07777000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700007000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700007007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700007007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077770007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007700000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007700000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077770000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
